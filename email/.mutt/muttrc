# muttrc
# vim: foldmethod=marker

# Source other files {{{
source ~/.mutt/mutt_keys
source ~/.mutt/mutt_colours
source ~/.mutt/aliases
source ~/.mutt/gpg.rc
# }}}

# Source account muttrc files {{{
source /Users/johngodlee/.mutt/accounts/1-gmail.muttrc # mw-autogenerated
macro index,pager i1 '<sync-mailbox><enter-command>source /Users/johngodlee/.mutt/accounts/1-gmail.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to johngodlee@gmail.com" # mw-autogenerated
macro index,pager i2 '<sync-mailbox><enter-command>source /Users/johngodlee/.mutt/accounts/2-edinburgh.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to s1108036@sms.ed.ac.uk" # mw-autogenerated
macro index,pager i3 '<sync-mailbox><enter-command>source /Users/johngodlee/.mutt/accounts/3-riseup.muttrc<enter><change-folder>!<enter>;<check-stats>' "switch to johngodlee@riseup.net" # mw-autogenerated
# }}}

# Basic parameters {{{
set move = no
set signature = "~/.mutt/signature"
set smtp_authenticators = 'gssapi:login'
set rfc2047_parameters = yes
set sleep_time = 0		# Pause 0 seconds for informational messages
# }}}

# PGP GPG {{{
set pgp_default_key = E2388D6F0290C660224F6439215C0880610719F7 
set pgp_use_gpg_agent = yes
# }}}

# Text editor {{{
set editor = 'nvim'
set charset = "utf-8"
unset record

# Ability to change headers manually in text editor 
set edit_headers = yes
set autoedit = yes

# better line wrapping in mutt and vim
set text_flowed
# }}}

# Pager View Options {{{
set pager_index_lines = 0  # number of index lines to show
set pager_context = 3      # number of context lines to show
set pager_stop             # don't go to next message automatically
set menu_scroll            # scroll in menus
set tilde                  # show tildes like in vim
set markers = no              # no ugly plus signs
set mark_old = no          # Don't add Old flags, just keep N
set mime_forward = yes		# attachments are forwarded with mail
set forward_format = "Fwd: %s"	# format of subject when forwarding
set forward_quote		# include message in forwards
set reverse_name		# reply as whomever it was to
set mailcap_path = ~/.mailcap
set wait_key = no		# mutt won't ask "press key to continue"
auto_view text/html
alternative_order text/plain text/enriched text/html
# }}}

# Status bar {{{
set status_chars  = " *%A"
set status_format = "───[Folder: %f]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)?]───%>─%?p?( %p postponed )?───"
# }}}

# Index {{{
set date_format = "%Y-%m-%d %H:%M"
set index_format = "[%Z] %X %M %-20.20F -- %s %* %[%Y_%m_%d] - %[%H:%M]"
set sort = threads                         # like gmail
set sort_aux = reverse-date 			   # like gmail
set uncollapse_jump                        # don't collapse on an unread message
set sort_re                                # thread based on regex
set reply_regexp = "^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*"
# }}}

# Sidebar {{{
set sidebar_visible = yes
set sidebar_width = 20
set sidebar_short_path = yes
set sidebar_next_new_wrap = yes
set mail_check_stats
set sidebar_format = '%B%?F? [%F]?%* %?N?%N/? %?S?%S?'
# }}}

# Composition {{{
# Always include original message in reply and always reply to sender
set include 
set fast_reply
set fcc_attach			# save attachments with the body
set mail_check = 60 # to avoid lags using IMAP with some email providers (yahoo for example)

# Ask if unsent message should be kept as postponed
set postpone = ask-yes
# }}}

