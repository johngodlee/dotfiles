[general]
accounts = riseup, gmail 
pythonfile = ~/.offlineimap_pass.py
fsync = true

[Account riseup]
localrepository = riseup-local
remoterepository = riseup-remote

[Repository riseup-local]
type = Maildir
localfolders = ~/.mail/johngodlee@riseup.net

[Repository riseup-remote]
type = IMAP
ssl = true 
sslcacertfile = /usr/local/etc/openssl/cert.pem
remotehost = mail.riseup.net
remoteuser = johngodlee@riseup.net
remotepasseval = GetPassRiseup() 

[Account gmail]
localrepository = gmail-local
remoterepository = gmail-remote

[Repository gmail-local]
type = Maildir
localfolders = ~/.mail/johngodlee@gmail.com
nametrans = lambda folder: re.sub('drafts', '[Google Mail].Drafts',
	re.sub('sent', '[Google Mail].Sent Mail',
	re.sub('starred', '[Google Mail].Starred',
	re.sub('trash', '[Google Mail].Trash', folder))))

[Repository gmail-remote]
maxconnections = 3
type = Gmail
ssl = true
sslcacertfile = /usr/local/etc/openssl/cert.pem
remoteuser = johngodlee@gmail.com
remotepasseval = GetPassGmail()
realdelete = no
nametrans = lambda folder: re.sub('.*Drafts$', 'drafts',
	re.sub('.*Sent Mail$', 'sent',
    re.sub('.*Starred$', 'starred',
    re.sub('.*Trash$', 'trash', folder))))

folderfilter = lambda folder: folder not in [
    '[Google Mail]/Important',
    '[Google Mail]/Spam',
    '[Google Mail]/Chats',
    '[Google Mail]/All Mail',
    ]
createfolders = True
singlethreadperfolder = True 


postsynchook = notmuch new --quiet
